<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../google-apis/google-client-api.html">

<!--
Element providing the UVa Library's API service.

##### Example

    <uvalib-api></uvalib-api>

@element uvalib-api
@blurb Element providing solution to no problem in particular.
@status alpha
@homepage http://uvalib-components.github.io/uvalib-api
-->
<polymer-element name="uvalib-api" attributes="">
  <template>
    <google-api-loader name="uvalibrary" version="v0.1" appId="new-dot-uvalibapi" on-google-api-load="{{apiLoaded}}">
  </template>
  <script>
    Polymer({

      /**
       * The `getAPI` method will return a greeting.
       *
       * @method getAPI
       * @return {Object} Returns the api.
       */
      getAPI: function () {
        return gapi.client.uvalibrary;
      },

      /**
       * The `uvalib-api-load` event is fired whenever the api finishes loading.
       *
       * @event uvalib-api-load
       * @param {Object} api
       *
       */

      /**
       * The `apiLoaded` method will dispatch an event that claims the api has been loaded
       *
       * @method apiLoaded
       */
      apiLoaded: function () {
        this.fire('uvalib-api-load', gapi.client.uvalibrary);
      }
    });
  </script>
</polymer-element>
